<div fxLayout="column" fxLayoutAlign="start stretch" fxFill class="posts__wrapper">
    <ng-container *ngIf="(posts$ | async) as posts">
        <mat-card fxFlex>
            <mat-card-header class="posts__wrapper-header">
                <img mat-card-avatar *ngIf="media.isActive('gt-xs')" [src]="'./assets/images/doug_williamson.jpg'" class="posts__wrapper-image">
                <mat-card-title class="posts__wrapper-title">Thoughts of a middle-aged father and husband.</mat-card-title>
                <mat-card-subtitle class="posts__wrapper-subtitle">- Doug's Desk</mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
                <div fxLayout="column" fxLayoutAlign="start stretch" fxFill>
                    <mat-list fxFlex>
                        <ng-container *ngFor="let post of posts">
                            <ng-container *ngIf="media.isActive('gt-xs'); else mobileView">
                                <mat-list-item *ngIf="post" [routerLink]="post.id">
                                    <div class="posts__timestamp">{{ post.timestamp.seconds * 1000 | date:'MM/dd' }}</div>
                                    <div>{{ post.title }}</div>
                                </mat-list-item>
                            </ng-container>
                            <ng-template #mobileView>
                                <mat-list-item *ngIf="post" [routerLink]="post.id">
                                    <div mat-line>{{ post.title }}</div>
                                    <div mat-line>{{ post.timestamp.seconds * 1000 | date:'MM/dd' }}</div>
                                </mat-list-item>
                            </ng-template>
                            <mat-divider *ngIf="!last"></mat-divider>
                        </ng-container>
                    </mat-list>
                </div>
            </mat-card-content>
        </mat-card>
    </ng-container>
  </div>